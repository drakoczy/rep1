<html>
	<!--		% -> mod
				"!"= -> !==
				css -> bootstrap
				bootstrap class-okkal formázni a 2 vezérlőt (szín, border)
		bottstrap-en tab komponenst használni és annak az első fülére betenni "ezt az egészet"
		+1 fül ahol gombnyomásra generálunk 10 érvényes TAJ számot, ezeket console.log-olni.
		Az 1. fülre kerüljön egy 2. gomb is, ami a meglévő gomb funkcióival bír + elfogadja az input boxot üresen is. (console.log{success.true})-->

    <head>
      	<meta charset = "utf-8">
      	<title></title>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<style>
		header {text-align: center;}
		div {	text-align: center;
			vertical-align: middle;
			padding: 10px}
	</style>
    </head>

    <body>
	<header>
		<div class="text">
			<div class="text-md-4">
			<h1>TAJ szám <span class="badge badge-secondary">új funkció</span></h1>
		</div>
	</header>
		<div class="tab">
  			<button class="tablinks" onclick="parent.location='index.html'">TAJ szám ellenőrzése</button>
  			<button class="tablinks" onclick="parent.location='tajSzamGeneralasa.html'">TAJ szám generálása</button>
		</div>

	<div class="input">
		<div class="input-md-4">
		<input class="input" type="text" id="taj" name="tajInput" required minlength="9" maxlength="9" placeholder="TAJ szám" class="shadow p-13 mb-5"></input>
	</div>

	<div class="input">
		<input type="button" class="btn btn-success" value="Ellenőrzés" onclick="validateTAJ()">
		<div class="input-md-4">
	</div>
	
	<script>
	
	function validateTAJ(){
	var input = document.getElementById('taj');
	
		if (input.value.length < 1) {
			alert("Ellenőrzés előtt írjon be egy TAJ számot.");
			return;
		}else if (input.value.length < 9) {
			alert("Hibás TAJ szám! - kevesebb mint 9 karakter.");
			return;
		}

		else if (input.value * 1 - input.value !== 0) {
			alert("Hibás TAJ szám! - nem csak számokat tartalmaz.");
			return;
		}	
		
		var inputArr = Array.from(input.value);
		var firstEight = inputArr[0]*3+inputArr[1]*7+inputArr[2]*3+inputArr[3]*7+inputArr[4]*3+inputArr[5]*7+inputArr[6]*3+inputArr[7]*7;
		
			if ((firstEight %=10) != inputArr[8]) {
				alert("Hibás TAJ szám - logikai hiba.");
			}

		else {
			(console.log(input.value));
			alert("Sikeres bevitel.");  
			document.getElementById('taj').value = "";
		}
	};

	</script>
    </body>
</html>
